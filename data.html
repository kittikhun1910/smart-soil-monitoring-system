<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Data of project</title>
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <link rel="stylesheet" href="data.css">

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>

    <script>
        // Initialize Firebase
        var firebaseRefpush = {};
        var firebaseRef1push = {};
        var firebaseRef2push = {};
        var firebaseRef3push = {};
        var firebaseRef4push = {};
        var firebaseRef5push = {};
        var firebaseRef6push = {};
        var firebaseRef7push = {};
        var firebaseRef8push = {};

        // เพื่อสร้างตัวแปร Global ไว้ส่งค่าไปใช้ในส่วนอื่น ๆ
        var backup_datas = {};
        var backup_datas1 = {};
        var backup_datas2 = {};
        var backup_datas3 = {};
        var backup_datas4 = {};
        var backup_datas5 = {};
        var backup_datas6 = {};
        var backup_datas7 = {};
        var backup_datas8 = {};

        angular.module('firebaseApp', []).service('firebaseService', function() {
            // สร้าง Function เพื่อ init Firebase เข้ากับ app เรา
            this.initFirebase = function() {
                var config = {
                    apiKey: "AIzaSyBjrPJOwH2YJ-aAIvDdJf1PcY6_eT1Hqtc",
                  authDomain: "soil-monitoring-system-961a3.firebaseapp.com",
                  databaseURL: "https://soil-monitoring-system-961a3-default-rtdb.firebaseio.com"
                };
                firebase.initializeApp(config);
                firebaseRefpush = firebase.database().ref("Push/Humidity").limitToLast(10);
                firebaseRef1push = firebase.database().ref("Push/Moisture").limitToLast(10);
                firebaseRef2push = firebase.database().ref("Push/Nitrogen").limitToLast(10);
                firebaseRef3push = firebase.database().ref("Push/Phosphorus").limitToLast(10);
                firebaseRef4push = firebase.database().ref("Push/Potassium").limitToLast(10);
                firebaseRef5push = firebase.database().ref("Push/TemperatureC").limitToLast(10);
                firebaseRef6push = firebase.database().ref("Push/TemperatureF").limitToLast(10);
                firebaseRef7push = firebase.database().ref("Push/pH").limitToLast(10);
                firebaseRef8push = firebase.database().ref("Set");    
            }
            // สร้าง Function เพื่อเก็บ event ของ Firebase
            this.eventFirebase = function() {
                firebaseRefpush.on('value', function(data) {
                  const datas = Object.values(data.val());

                  // ใส่ค่าเข้าตัวแปร Global
                  backup_datas = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed = sum/10;
                console.log(sumed);
                document.getElementById('ni').innerHTML = "Average of Humidity: " + sumed + " %";
                })

                firebaseRef1push.on('value', function(data1) {
                  const datas = Object.values(data1.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas1 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed1 = sum/10;
                console.log(sumed1);
                document.getElementById('ni1').innerHTML = "Average of Moisture: " + sumed1 +" %";
                })

                firebaseRef2push.on('value', function(data2) {
                  const datas = Object.values(data2.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas2 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed2 = sum/10;
                console.log(sumed2);
                document.getElementById('ni2').innerHTML = "Average of Nitrogen: " + sumed2 +" PPM(mg/Kg)";
                })

                firebaseRef3push.on('value', function(data3) {
                  const datas = Object.values(data3.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas3 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed3 = sum/10;
                console.log(sumed3);
                document.getElementById('ni3').innerHTML = "Average of Phosphorus: " + sumed3 +" PPM(mg/Kg)";
                })

                firebaseRef4push.on('value', function(data4) {
                  const datas = Object.values(data4.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas4 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed4 = sum/10;
                console.log(sumed4);
                document.getElementById('ni4').innerHTML = "Average of Potassium: " + sumed4 +" PPM(mg/Kg)";
                })

                firebaseRef5push.on('value', function(data5) {
                  const datas = Object.values(data5.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas5 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed5 = sum/10;
                console.log(sumed5);
                document.getElementById('ni5').innerHTML = "Average of TemperatureC: " + sumed5 +" C*";
                })

                firebaseRef6push.on('value', function(data6) {
                  const datas = Object.values(data6.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas6 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed6 = sum/10;
                console.log(sumed6);
                document.getElementById('ni6').innerHTML = "Average of TemperatureF: " + sumed6 +" F*";
                })

                firebaseRef7push.on('value', function(data7) {
                  const datas = Object.values(data7.val());

                  // ใส่ค่าเข้าตัวแปร Global
                backup_datas7 = datas;
                console.log(datas);
                const numbers = datas;
                const sum = numbers.reduce((total, n) => total + n, 0);
                sumed7 = sum/10;
                console.log(sumed7);
                document.getElementById('ni7').innerHTML = "Average of pH: " + sumed7 ;
                })
                
                firebaseRef8push.on('value', function(data) {
                  const datas = Object.values(data.val());
                var datetime = datas[7];
                var date = new Date( datetime * 1000);
                var year    = date.getFullYear();
                var month   = date.getMonth();
                var day     = date.getDay();
                var hour    = date.getHours();
                var minute  = date.getMinutes();
                var seconds = date.getSeconds(); 
                document.getElementById('date').innerHTML = hour + ":" + minute + ":" + seconds ;
                document.getElementById('date1').innerHTML = "latest update: "+ day + "/" + month  + "/" + year ;
                })
            }            
            this.push = function(title, content) {}
        }).controller('firebaseCtrl', function(firebaseService) {
            // เรียกใช้งาน firebaseService ที่เราสร้างไว้
            firebaseService.initFirebase();
            firebaseService.eventFirebase();
        })
    </script>
</head>

<body ng-app="firebaseApp">
<div class="main_page" ng-controller="firebaseCtrl">
    <div class="sidebar">
        <img src="logo.png" alt="">
        <h3>Smart Soil Monitoring System</h3>
        <ul>
            <li><a href="info.html"><i class="fas fa-info-circle"></i>Project Details</a></li>
            <li><a href="gauge.html"><i class="fab fa-cloudscale"></i>Gauge Sensor</a></li>
            <li><a href="data.html"><i class="fas fa-database"></i>Information data</a></li>
            <li><a href="#"><i class="fas fa-chart-bar"></i>Graph data</a></li>
            <li><a href="index.html"><i class="fas fa-sign-out-alt"></i>Logout</a></li>
            <h4 id="date1">latest update: Monday 15 May 2021</h4>
            <h4 id="date">10:10:10</h4>
        </ul>
    </div>
    <div class="main_content">
        <div class="header">
        <h1>Smart Soil Monitoring System</h1>
        <h2>Information data</h2>
        </div>
    <div class="data">
        <h2> ความชื้นในดินคืออะไร？</h2>
        <h4>( What is soil moisture？)</h4>
        <img src="waterstep.jpg" alt="" width="500px" height="350px">
        <p class="moisture_th">ความชื้นในดิน (Soil Moisture) มีความหมายที่แตกต่างกันในแต่ละความคิดคน 
        ตัวอย่างเช่นแนวคิดของเกษตรกรเกี่ยวกับ ความชื้น ในดินจะแตกต่างจากผู้จัดการทรัพยากรน้ำ
        หรือนักพยากรณ์อากาศ อย่างไรก็ตามโดยทั่วไปความชื้นในดินคือน้ำที่กักเก็บไว้ในช่องว่างระหว่าง
        อนุภาคของดิน ความชื้นในดินคือน้ำที่อยู่ในชั้นบนของดิน 10 ซม. ในขณะที่ความชื้นในดินบริเวณราก
        คือน้ำที่มีอยู่ในพืช ซึ่งโดยทั่วไปจะอยู่ในดินชั้นบน 200 ซม.</p>
        <p class="moisture_eng">Soil Moisture has different meanings in different people's minds. 
        For example, a farmer's concept of soil moisture differs from a water resource manager. 
        or a weather forecaster Generally, however, soil moisture is water that is retained in 
        the spaces between soil particles. Soil moisture is water that is 10 cm in the top layer of soil, 
        while soil moisture is at the roots. is the water contained in plants which is generally 
        in the topsoil of 200 cm.</p>
        <h3>ความสำคัญของความชื้นในดินคืออะไร?</h3>
        <h4>( What is the importance of soil moisture? )</h4>
        <p class="moisture_th_1">ปริมาณความชื้นหรือน้ำในดินเป็นสิ่งสำคัญที่ต้องรู้เนื่องจาก</p>
          <li id="ms">* น้ำในดินทำหน้าที่เป็นตัวทำละลายและเป็นพาหะของสารอาหารเพื่อการเจริญเติบโตของพืช</li>
          <li id="ms">* ผลผลิตของพืชมักขึ้นอยู่กับปริมาณน้ำที่มีมากกว่าสารอาหารอื่น ๆ</li>
          <li id="ms">* น้ำในดินทำหน้าที่เป็นสารอาหารด้วยตัวมันเอง</li>
          <li id="ms">* น้ำในดินทำหน้าที่ควบคุมอุณหภูมิของดิน</li>
          <li id="ms">* กระบวนการขึ้นรูปของดินและการผุกร่อนขึ้นอยู่กับน้ำ</li>
          <li id="ms">* จุลินทรีย์ต้องการน้ำสำหรับทำกระบวนการเมทาบอลิซึม (metabolism)</li>
          <li id="ms">* น้ำในดินช่วยในการทำปฏิกิริยาเคมีและชีวภาพของดิน</li>
          <li id="ms">* น้ำในดินเป็นองค์ประกอบหลักในการเติบโตของพืช</li>
          <li id="ms">* น้ำจำเป็นต่อการสังเคราะห์แสง</li>

          <div class="picture">
            <div class="pic1">
                <img src="veggies_mos.jpg"  alt="html5">
            </div>
            <div class="pic2">
                <img src="corn.jpeg" alt="html5">
            </div>
          </div>

        <p class="moisture_eng_1">The amount of moisture or water in the soil is important to know because</p>
          <li id="ms">* Soil water acts as a solvent and a carrier of nutrients for plant growth</li>
          <li id="ms">* The yield of a plant is often more dependent on water content than other nutrients.</li>
          <li id="ms">* Soil water acts as a nutrient by itself</li>
          <li id="ms">* Soil water controls soil temperature</li>
          <li id="ms">* Soil forming and weathering processes depend on water</li>
          <li id="ms">* Microorganisms need water for their metabolism. (metabolism)</li>
          <li id="ms">* Soil water helps the soil's chemical and biological reactions</li>
          <li id="ms">* Soil water is the main component of plant growth</li>
          <li id="ms">* Water is essential for photosynthesis</li>

        <h3>ระดับความชื้นที่พืชสามารถรับได้จะคิดเป็นเปอร์เซ็นต์ ดังนี้</h3>
        <h4>The moisture level that a plant can accept is expressed as a percentage:</h4>
        
        <img src="rot_root.png" alt="html5" width="400px" height="220px" class="pic3">
        <p class="moisture_th_2">1.ความชื้น 80% - 100% : สภาวะอันตรายต่อพืช</p>
          <li id="ms">* ถ้ามีความชื้นสูงในระดับนี้เป็นเวลานาน มีโอกาสสูงมากที่จะทำให้รากเน่า หรือเกิดเชื้อราขึ้นได้</li>
        <p class="moisture_eng_2">1.Moisture 80% - 100% : conditions harmful to plants</p>
          <li id="ms">* If the Moisture is high at this level for a long time There is a very high 
            chance of root rot. or mold can occur.</li>

          <img src="wet_soil.jpeg" alt="html5" width="400px" height="220px" class="pic3">
          <p class="moisture_th_2">2.ความชื้น 70% - 79% : สภาวะดินแฉะ </p>
            <li id="ms">* หากไม่ควบคุมให้ดี หรือปล่อยเป็นเวลานานก็อาจเข้าสู่สภาวะอันตรายได้</li>
          <p class="moisture_th_2">2.Moisture 70% - 79% : wet soil condition </p>
            <li id="ms">* if not well controlled Or leave it for a long time, it may enter a dangerous state.</li>

          <img src="green_plant.jpg" alt="html5" width="400px" height="220px" class="pic3">
          <p class="moisture_th_2">3.ความชื้น 50% -69% : สภาวะที่พืชชอบ </p>
            <li id="ms">* เนื่องจากพืชจะมีการเจริญเติบโตได้ดีที่สุดในสภาวะนี้</li>
          <p class="moisture_th_2">3. Moisture 50% -69% : conditions that plants like </p>
            <li id="ms">* as plants grow best in these conditions</li>

          <img src="dry_soil.jpg" alt="html5" width="400px" height="220px" class="pic3">
            <p class="moisture_th_2">4.ความชื้น 40% - 49% : สภาวะแห้ง </p>
              <li id="ms">* ควรเพิ่มความชื้นให้แก่ดิน เพื่อให้พืชเจริญเติบโตได้</li>
            <p class="moisture_th_2">4.Moisture 40% - 49%  : dry condition </p>
              <li id="ms">* should increase soil moisture. for plants to grow</li>

          <img src="dry_died.jpg" alt="html5" width="400px" height="220px" class="pic3">
            <p class="moisture_th_2">5.ความชื้น 0% - 39% : สภาวะวิกฤติ </p>
              <li id="ms">* สามารถทำให้พืชแห้งและเหี่ยวเฉาตายได้</li>
            <p class="moisture_th_2">5.Moisture 0 % - 39%  : critical condition </p>
              <li id="ms">* It can cause plants to dry out and wither and die.</li>
                
    </div>
    <div class="data2">
        <h2> pH คืออะไร?</h2>
        <h4>( What is pH? )</h4>
        <img src="ph_img.jpg" alt="" width="500px" height="350px">
        <p class="ph_th">pH ดิน (Soil pH) เป็นตัวบ่งชี้ความเป็นกรดหรือด่างในดินและวัดเป็นหน่วย pH ค่า pH 
        คือค่าเป็นลอการิทึมของความเข้มข้นของไฮโดรเจนไอออน มาตราส่วน pH เริ่มจาก 0 ถึง 14 โดยมีค่า pH 7 
        เป็นจุดกลาง เมื่อปริมาณของไฮโดรเจนไอออนในดินเพิ่มขึ้น ค่า pH ของดินจะลดลงนั่นหมายถึงว่าดินมีความเป็นกรดมากขึ้น 
        โดยที่ดินเป็นกรดมีค่า pH 0 ถึง 7 และจาก pH 7 ถึง 14 มีความหมายว่าดินมีความเป็นด่าง pH ของดินคือเป็นตัวแปรหลักใน
        การเพาะปลูกพืช เนื่องจากมีผลกระทบต่อกระบวนการทางเคมีหลายอย่าง โดยเฉพาะอย่างยิ่งส่งผลกระทบต่อความพร้อมของ
        ธาตุอาหารพืชโดยการควบคุมรูปแบบทางเคมีของสารอาหารต่างๆ และมีอิทธิพลต่อปฏิกิริยาเคมีที่พืชได้รับ ช่วง pH ที่เหมาะสม
        ที่สุดสำหรับพืชส่วนใหญ่อยู่ระหว่าง 5.5 ถึง 7.5 อย่างไรก็ตามพืชจำนวนมากได้ปรับตัวให้เจริญเติบโตที่ค่า pH นอกช่วงนี้ได้</p>
        <p class="ph_eng">Soil pH (Soil pH) is an indicator of soil acidity or alkalinity and is measured in pH units.
        is the logarithmic value of the hydrogen ion concentration. The pH scale goes from 0 to 14, 
        with a pH of 7.It is the center point. As the amount of hydrogen ions in the soil increases, 
        the soil pH decreases, meaning the soil becomes more acidic.where the soil is acidic with a pH 
        of 0 to 7, and from a pH of 7 to 14, the soil is alkaline. Soil pH is the main variable in
        plant cultivation Because it affects many chemical processes. especially affect the availability of
        Plant nutrients by controlling the chemical form of various nutrients. and influencing 
        the chemical reactions obtained by plants. The optimum pH range The maximum for most plants
        is between 5.5 and 7.5. However, many plants have adapted to thrive at pH outside this range.</p>

        <h3> ระดับความเข้มข้นของค่า pH ในดิน</h3>
        <h4>( The level of pH concentration in the soil ) </h4>
        <img  src="pH-soil-level.jpg" alt="" width="550px" height="520px">

        <h3> ค่า pH มีผลต่อพืชอย่างไร?</h3>
        <h4>( How does pH affect plants? ) </h4>
        <div class="picture">
          <div class="pic1">
              <img src="ph_affect.jpg"  alt="html5">
          </div>
          <div class="pic2">
              <img src="ph_affect2.jpg" alt="html5">
          </div>
        </div>
        <p class="ph_th">ค่า pH ในดินไม่ได้มีผลโดยตรงกับการเจริญเติบโตของพืช แต่มีส่วนช่วยให้พืชสามารถดูดซับ
        สารอาหารจากดินได้ดีขึ้นเท่านั้น ซึ่งถ้าหากพืชเจริญเติบโตในดินที่มีค่าความเป็นกรดต่ำเกินไป ใบก็จะเหลือง 
        เนื่องจากไม่สามารถดูดธาตุเหล็กเข้าไปบำรุงต้นได้อย่างเต็มที่ ดังนั้นดินที่จะเหมาะกับการปลูกพืช จึงต้องมีค่าความเป็น
        กรดอยู่พอสมควร เพื่อที่ความเป็นกรดจะได้แปลงธาตุอาหารให้พืชดูดกินได้สะดวก

        แต่ถึงอย่างนั้นค่า pH ก็มีผลเสียต่อพืชอยู่เช่นกัน โดยหากดินมีค่า pH ต่ำ ธาตุแมงกานีสในดินก็จะกลายเป็นพิษต่อพืช 
        เป็นสาเหตุให้พืชมีใบเหลือง ใบแห้ง และตายได้ในที่สุด และถ้าหากค่า pH ในดินต่ำมากจนเกินไป 
        ดินก็จะดูดซับสารอะลูมิเนียมแทนธาตุอาหารจำเป็น ต้นไม้จึงเติบโตช้า เพราะไม่ได้กินอาหารที่มีประโยชน์ 
        แต่ถ้าดินมีค่า pH อยู่ในระดับที่เหมาะสม ก็จะช่วยให้สารอาหาร และสิ่งมีชีวิตในดินเจริญเติบโตได้ดี 
        อีกทั้งยังช่วยแปลงธาตุไนโตรเจนให้พืชสามารถดูดซับได้ ส่งผลให้พืชงอกงามสุขภาพดีอีกด้วย</p>
        <p class="ph_eng">Soil pH does not directly affect plant growth. But it only helps the plants 
        to absorb nutrients from the soil better. If the plant grows in soil with too low acidity, 
        the leaves will turn yellow because they cannot fully absorb the iron to nourish the plant. 
        Therefore, the soil that is suitable for growing plants Therefore, there must be a sufficient 
        amount of acidity. So that the acidity can convert nutrients for plants to absorb easily.

        But even then, pH has a negative effect on plants as well. 
        If the soil pH is low, manganese in the soil becomes toxic to plants. This can cause plants 
        to yellow, dry and eventually die, and if the soil pH is too low. Soil will absorb aluminum 
        instead of essential nutrients. the tree grows slowly because they do not eat nutritious 
        food But if the soil pH is at the right level. It will help nutrients. and soil organisms 
        thrive It also helps convert nitrogen that plants can absorb. As a result, the plants thrive 
        and are healthy as well.</p>

        <h3> ข้อมูลเบื้องต้นสำหรับระดับ pH ของดินที่เหมาะสมสำหรับพืช</h3>
        <h4>( Basic information for optimal soil pH levels for plants. ) </h4>
        <img  src="fruitveg.jpeg" alt="" width="550px" height="320px">

        <p class="ph_th_1">รายชื่อพืชที่เหมาะสมกับระดับ pH เเบบต่างๆ ( List of plants suitable for different pH levels )</p>
          <li id="ph">*1.) ต้นแอปเปิ้ลค่า ph ที่เหมาะสม 5.0-6.5 ( Apple tree optimal ph 5.0-6.5 )</li>
          <li id="ph">*2.) ต้นชวนชมค่า ph ที่เหมาะสม 4.5-6.0 ( Adenium optimal ph 4.5-6.0 )</li>
          <li id="ph">*3.) หัวไชเท้าค่า ph ที่เหมาะสม 6.0-7.0 ( Radish, suitable ph value 6.0-7.0 )</li>
          <li id="ph">*4.) ต้นมะม่วงค่า ph ที่เหมาะสม 6.0-7.5 ( Mango tree optimal ph 6.0-7.5 )</li>
          <li id="ph">*5.) ไม้สนแดงค่า ph ที่เหมาะสม 5.0-6.0 ( Red pine, optimal ph 5.0-6.0 )</li>
          <li id="ph">*6.) หน่อไม้ฝรั่งค่า ph ที่เหมาะสม 6.0-8.0 ( Asparagus optimal ph 6.0-8.0 )</li>
          <li id="ph">*7.) ถั่วเสาค่า ph ที่เหมาะสม 6.0-7.5 ( Pole beans, optimal ph value 6.0-7.5 )</li>
          <li id="ph">*8.) กะหล่ำปลีค่า ph ที่เหมาะสม 6.0-7.0 ( Cabbage optimal ph 6.0-7.0 )</li>
          <li id="ph">*9.) แครอทค่า ph ที่เหมาะสม 5.5-7.0 ( Carrot optimum ph 5.5-7.0 )</li>

          <li id="ph">*10.) กะหล่ำดอกค่า ph ที่เหมาะสม 5.5-7.5  ( Cauliflower ph suitable 5.5-7.5 )</li>
          <li id="ph">*11.) คื่นฉ่ายค่า ph ที่เหมาะสม 5.8-7.0  ( Celery optimal ph 5.8-7.0 )</li>
          <li id="ph">*12.) แตงกวาค่า ph ที่เหมาะสม 5.5-7.0  ( Cucumber optimal ph 5.5-7.0 )</li>
          <li id="ph">*13.) กระเทียมค่า ph ที่เหมาะสม 5.5-8.0 ( Garlic ideal ph 5.5-8.0 )</li>
          <li id="ph">*14.) คะน้าค่า ph ที่เหมาะสม 6.0-7.5 ( Kale suitable ph value 6.0-7.5 )</li>
          <li id="ph">*15.) ผักกาดหอมค่า ph ที่เหมาะสม 6.0-7.0 ( Lettuce optimal ph value 6.0-7.0 )</li>
          <li id="ph">*16.) พริกหวานค่า ph ที่เหมาะสม 5.5-7.0 ( Sweet pepper, suitable ph 5.5-7.0 )</li>
          <li id="ph">*17.) ฟักทองค่า ph ที่เหมาะสม 5.5-7.5 ( Pumpkin optimum ph 5.5-7.5 )</li>
          <li id="ph">*18.) มะเขือเทศค่า ph ที่เหมาะสม 5.5-7.5 ( Tomato ph suitable 5.5-7.5 )</li>



  </div>
  </div>

</div>
</body>
</html>